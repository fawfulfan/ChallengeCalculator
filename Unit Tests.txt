Step 2, with the newline character supported as a delimiter.

Here are the values to test, and their results:

20 -> 20
1,5000 -> 5001
4,-3 -> 1
5,tytyt -> 5
tytyt -> 0
5,-5 -> 0
,5 -> 5
, -> 0
1,2,3 -> 6
1,2, -> 3
,1,2 -> 3
1,2,3,4,5,6,7,8,9,10,11,12 -> 78
1,2,3,4,5,6,7,8,9,10,11,tytyt,12 -> 78
3\n4 -> 7
3\n4, -> 7
3,\n4, -> 7